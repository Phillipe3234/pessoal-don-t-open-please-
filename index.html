<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Isa - Se Voc√™ Voltar...</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #e63946;
            --secondary: #ffafcc;
            --accent: #ff006e;
            --gold: #ffd166;
            --dark: #1d3557;
            --light: #f1faee;
            --glass: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #0c0b15 0%, #1a1625 50%, #2d1b3d 100%);
            color: #f1faee;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Flores caindo */
        .flower {
            position: fixed;
            top: -50px;
            font-size: 24px;
            z-index: 1;
            opacity: 0.7;
            animation: fall linear forwards;
            pointer-events: none;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Tela de senha */
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(rgba(13, 12, 22, 0.95), rgba(29, 21, 49, 0.98)), 
                        url('https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .password-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 50px 40px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5),
                        0 0 100px rgba(230, 57, 70, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .password-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 175, 204, 0.1) 0%, transparent 70%);
            z-index: -1;
        }

        .password-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--gold);
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 209, 102, 0.5);
        }

        .password-subtitle {
            color: var(--secondary);
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .password-input-container {
            position: relative;
            margin: 30px 0;
        }

        .password-input {
            width: 100%;
            padding: 18px 20px;
            font-size: 1.2rem;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--secondary);
            border-radius: 15px;
            color: white;
            text-align: center;
            transition: all 0.3s;
        }

        .password-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 25px rgba(255, 0, 110, 0.4);
        }

        .password-btn {
            background: linear-gradient(45deg, var(--accent), var(--primary));
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            color: white;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            letter-spacing: 1px;
            margin: 10px;
            box-shadow: 0 10px 20px rgba(230, 57, 70, 0.3);
        }

        .password-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(230, 57, 70, 0.4);
        }

        .hints {
            margin-top: 30px;
            text-align: left;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid var(--gold);
        }

        .hint {
            color: var(--secondary);
            margin: 10px 0;
            font-size: 0.95rem;
        }

        .flower-icon {
            color: var(--accent);
            margin-right: 10px;
        }

        /* Conte√∫do principal */
        .main-content {
            display: none;
            opacity: 0;
            transition: opacity 2s;
        }

        /* Cabe√ßalho */
        .header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
        }

        .main-title {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: var(--gold);
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 209, 102, 0.5);
            position: relative;
            display: inline-block;
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--secondary);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Player de M√∫sica */
        .music-section {
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .music-player-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--secondary);
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .music-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--light);
            margin-bottom: 20px;
        }

        .audio-player {
            width: 100%;
            max-width: 500px;
            margin: 0 auto 20px;
            border-radius: 10px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.5);
        }

        .music-note {
            color: var(--gold);
            font-size: 1.2rem;
            font-style: italic;
            margin-top: 15px;
        }

        /* Carrossel de fotos - DISPOSI√á√ÉO ESPEC√çFICA */
        .carousel-section {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .carousel-title {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--light);
            margin-bottom: 40px;
            position: relative;
        }

        .carousel-title::before {
            content: '‚ù§';
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
        }

        .carousel-title::after {
            content: '‚ù§';
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 500px;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            background: #000;
        }

        /* DISPOSI√á√ÉO ESPEC√çFICA DAS IMAGENS - Como no primeiro c√≥digo */
        .carousel-slide {
            position: absolute;
            width: auto;
            height: 100%;
            max-width: 100%;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            cursor: pointer;
            object-fit: contain;
        }

        .carousel-slide.active {
            opacity: 1;
        }

        .carousel-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
        }

        .carousel-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .carousel-dot.active {
            background: var(--accent);
            transform: scale(1.3);
            box-shadow: 0 0 15px var(--accent);
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
        }

        .carousel-nav:hover {
            background: rgba(230, 57, 70, 0.8);
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-nav.prev {
            left: 20px;
        }

        .carousel-nav.next {
            right: 20px;
        }

        /* Carrossel de poemas */
        .poem-carousel-section {
            padding: 60px 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .poem-carousel {
            background: linear-gradient(135deg, rgba(255, 175, 204, 0.1), rgba(29, 53, 87, 0.3));
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .poem-carousel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent), var(--gold), var(--accent));
        }

        .poem-slide {
            display: none;
            text-align: center;
            animation: fadeIn 1.5s ease;
        }

        .poem-slide.active {
            display: block;
        }

        .poem-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            color: var(--gold);
            margin-bottom: 30px;
            position: relative;
            display: inline-block;
        }

        .poem-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent), transparent);
        }

        .poem-content {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            line-height: 1.8;
            color: var(--light);
            white-space: pre-line;
            text-align: center;
            padding: 0 20px;
        }

        .poem-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
        }

        .poem-nav:hover {
            background: var(--accent);
            transform: translateY(-50%) scale(1.1);
        }

        .poem-nav.prev {
            left: 20px;
        }

        .poem-nav.next {
            right: 20px;
        }

        .poem-indicator {
            text-align: center;
            margin-top: 20px;
            color: var(--secondary);
            font-size: 0.9rem;
        }

        /* Mensagem curta */
        .short-message {
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .message-box {
            background: linear-gradient(135deg, rgba(29, 53, 87, 0.6), rgba(230, 57, 70, 0.2));
            border-radius: 20px;
            padding: 40px;
            border: 2px solid var(--gold);
            position: relative;
            overflow: hidden;
        }

        .message-box::before {
            content: '‚úâ';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem;
            opacity: 0.1;
            color: var(--gold);
        }

        .message-text {
            font-size: 1.3rem;
            line-height: 1.8;
            color: var(--light);
            margin-bottom: 30px;
        }

        /* Calend√°rio para Aparecida - COMO NO C√ìDIGO ORIGINAL */
        .calendar-section {
            padding: 40px 20px;
            max-width: 600px;
            margin: 0 auto;
            display: none;
        }

        .calendar-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid var(--secondary);
        }

        .calendar-title {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--light);
            margin-bottom: 30px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 30px;
        }

        .calendar-day {
            padding: 15px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calendar-day:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        .calendar-day.selected {
            background: var(--gold);
            color: var(--dark);
            font-weight: bold;
        }

        .confirm-btn {
            background: linear-gradient(45deg, var(--accent), var(--primary));
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            color: white;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 20px auto;
            font-weight: 600;
        }

        .confirm-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Bot√£o Aparecida */
        .aparecida-btn {
            background: linear-gradient(45deg, var(--accent), var(--primary));
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            color: white;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            letter-spacing: 1px;
            margin: 20px auto;
            display: block;
            box-shadow: 0 10px 20px rgba(230, 57, 70, 0.3);
        }

        .aparecida-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(230, 57, 70, 0.4);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--secondary);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
        }

        .obs {
            font-style: italic;
            color: var(--gold);
            margin: 20px 0;
            font-size: 1.1rem;
            text-align: center;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .heart-beat {
            color: var(--accent);
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .password-title {
                font-size: 2.5rem;
            }
            
            .main-title {
                font-size: 3rem;
            }
            
            .carousel-container {
                height: 400px;
            }
            
            .poem-content {
                font-size: 1.5rem;
            }
            
            .carousel-title, .poem-title {
                font-size: 1.8rem;
            }
            
            .carousel-title::before,
            .carousel-title::after {
                display: none;
            }
            
            .calendar-day {
                padding: 10px;
                font-size: 0.9rem;
            }
        }

        /* Fullscreen para imagens - DISPOSI√á√ÉO ESPEC√çFICA */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            cursor: pointer;
        }

        .fullscreen-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(255, 0, 110, 0.5);
        }
    </style>
</head>
<body>
    <!-- Flores caindo -->
    <div id="flowersContainer"></div>

    <!-- Tela de senha -->
    <div class="password-screen" id="passwordScreen">
        <div class="password-container">
            <h1 class="password-title">Para Isa</h1>
            <p class="password-subtitle">Esta mensagem foi feita especialmente para voc√™, com todo o meu cora√ß√£o</p>
            
            <div class="password-input-container">
                <input type="password" id="passwordInput" class="password-input" placeholder="Digite a senha especial..." autofocus>
            </div>
            
            <button onclick="checkPassword()" class="password-btn">
                <i class="fas fa-heart"></i> Abrir Meu Cora√ß√£o
            </button>
            
            <div class="hints">
                <p class="hint"><i class="fas fa-seedling flower-icon"></i> Dica 1: Apelido carinhoso que usava com voc√™, al√©m de "momo", "amor", "pretinha".</p>
                <p class="hint"><i class="fas fa-heart flower-icon"></i> Dica 2: O nome do seu nome que voc√™ me disse que gostava mais do que Isabela, na √©poca...</p>
            </div>
        </div>
    </div>

    <!-- Conte√∫do Principal -->
    <div class="main-content" id="mainContent">
        <!-- Cabe√ßalho -->
        <div class="header">
            <h1 class="main-title">Se Voc√™ Voltar...</h1>
            <p class="subtitle">Tudo ser√° diferente. Cada detalhe, cada gesto, cada olhar. Porque eu mudei. Porque aprendi a amar da forma que voc√™ merece.</p>
        </div>

        <!-- Player de M√∫sica -->
        <div class="music-section">
            <div class="music-player-container">
                <h3 class="music-title">Distante - Jorge Vercillo</h3>
                <audio id="backgroundMusic" controls class="audio-player" autoplay loop>
                    <!-- Arquivo local no GitHub -->
                    <source src="Distante (Estudio).mp3" type="audio/mpeg">
                    
                    <!-- Alternativa caso o primeiro n√£o funcione -->
                    <source src="distante-jorge-vercillo.mp3" type="audio/mpeg">
                    
                    Seu navegador n√£o suporta o elemento de √°udio.
                </audio>
                <p class="music-note">"Distante de voc√™, mas perto no cora√ß√£o... Essa m√∫sica sempre me fez pensar em n√≥s."</p>
            </div>
        </div>

        <!-- Carrossel de Fotos - COM DISPOSI√á√ÉO ESPEC√çFICA -->
        <div class="carousel-section">
            <h2 class="carousel-title">Nossas Mem√≥rias</h2>
            <div class="carousel-container">
                <img src="i1.jpg" class="carousel-slide active" alt="Nossa mem√≥ria especial 1">
                <img src="i2.jpg" class="carousel-slide" alt="Nossa mem√≥ria especial 2">
                <img src="i3.jpg" class="carousel-slide" alt="Nossa mem√≥ria especial 3">
                <img src="i4.jpg" class="carousel-slide" alt="Nossa mem√≥ria especial 4">
                <img src="i5.jpg" class="carousel-slide" alt="Nossa mem√≥ria especial 5">
                
                <button class="carousel-nav prev" onclick="prevPhoto()">‚Äπ</button>
                <button class="carousel-nav next" onclick="nextPhoto()">‚Ä∫</button>
                
                <div class="carousel-controls" id="photoDots"></div>
            </div>
        </div>

        <!-- Carrossel de Poemas -->
        <div class="poem-carousel-section">
            <div class="poem-carousel">
                <!-- Poema 1 - 11 Meses e 26 Dias -->
                <div class="poem-slide active">
                    <h3 class="poem-title">11 Meses e 26 Dias</h3>
                    <div class="poem-content">
Onze meses e vinte e seis dias...
Tempo suficiente para um cora√ß√£o se quebrar
e se reconstruir peda√ßo por peda√ßo.

Onze meses e vinte e seis noites
pensando em cada sorriso seu que n√£o causei,
em cada abra√ßo que n√£o dei,
em cada flor que prometi e n√£o entreguei.

Aprendi que amor n√£o √© posse,
√© cuidado. N√£o √© exig√™ncia,
√© entrega. N√£o √© ci√∫me,
√© confian√ßa. N√£o √© dor,
√© cura.

Aprendi rezando por voc√™,
pedindo a Nossa Senhora
que te protegesse mesmo longe de mim,
que te aben√ßoasse mesmo com raiva de mim,
que te fizesse feliz mesmo sem mim.

E hoje, depois de quase um ano,
o que sinto √© mais puro, mais verdadeiro.
N√£o √© mais aquela paix√£o que sufoca,
√© o amor que liberta, que respeita,
que espera no tempo de Deus.

Porque se for para ser,
ser√° lindo, ser√° certo,
ser√° aben√ßoado.
E se n√£o for...
eu vou aprender a amar voc√™
de um novo jeito:
rezando pela sua felicidade,
mesmo que ela flores√ßa em outros bra√ßos.
                    </div>
                </div>
                
                <!-- Poema 2 - Se Voc√™ Voltar... -->
                <div class="poem-slide">
                    <h3 class="poem-title">Se Voc√™ Voltar...</h3>
                    <div class="poem-content">
Se voc√™ voltar, saiba que cada dia sem voc√™
foi uma li√ß√£o de humildade, um aprendizado sobre amor.

Se voc√™ voltar, encontrar√° um homem transformado,
que trocou a pressa pela paci√™ncia,
o orgulho pela ora√ß√£o, o desespero pela f√©.

Se voc√™ voltar, nossas m√£os se encontrar√£o
n√£o mais pelo acaso, mas pela vontade de Deus.
Nossos passos se alinhar√£o n√£o pela paix√£o cega,
mas pela luz que vem do c√©u.

Se voc√™ voltar, ser√° sob a ben√ß√£o de Nossa Senhora,
no santu√°rio onde tudo come√ßou a fazer sentido.
Ser√° com a consagra√ß√£o que nos une,
mesmo quando tudo parecia perdido.

Se voc√™ voltar... ah, se voc√™ voltar...
Cada manh√£ ser√° um milagre,
cada olhar uma ora√ß√£o,
cada toque um sacramento.

Mas se n√£o voltar, guardarei em mim
a gratid√£o por ter te conhecido,
por ter amado, por ter sido amado,
por ter aprendido contigo o que √© amar de verdade.
                    </div>
                </div>
                
                <button class="poem-nav prev" onclick="prevPoem()">‚Äπ</button>
                <button class="poem-nav next" onclick="nextPoem()">‚Ä∫</button>
            </div>
            <div class="poem-indicator" id="poemIndicator">Poema 1 de 2</div>
        </div>

        <!-- Mensagem Curta -->
        <div class="short-message">
            <div class="message-box">
                <div class="message-text">
                    Isa, se voc√™ est√° lendo isso, saiba que n√£o √© para pressionar, n√£o √© para cobrar, n√£o √© para fazer voc√™ se sentir culpada. √â apenas para dizer que eu mudei, que eu cresci, que eu aprendi. E que se um dia voc√™ sentir no cora√ß√£o que podemos conversar, eu estarei aqui, com respeito, com f√©, com o cora√ß√£o aberto. Porque o que sinto por voc√™ √© real, √© profundo, e merece pelo menos uma conversa honesta.
                </div>
                
                <button class="aparecida-btn" onclick="showCalendar()">
                    <i class="fas fa-church"></i> Sugerir Encontro em Aparecida
                </button>
                
                <p class="obs">
                    OBS: Respeitarei qualquer resposta sua. Se for sim, marcaremos com calma. Se for n√£o, aceitarei com gratid√£o pelo tempo que tivemos. Mas preciso saber, para seguir em frente ou para recome√ßar ao seu lado.
                </p>
            </div>
        </div>

        <!-- Calend√°rio - COMO NO C√ìDIGO ORIGINAL -->
        <div class="calendar-section" id="calendarSection">
            <div class="calendar-container">
                <h3 class="calendar-title">Escolha uma data para nos encontrarmos</h3>
                <div class="calendar" id="calendar">
                    <!-- Dias ser√£o gerados por JavaScript -->
                </div>
                <button class="confirm-btn" id="confirmDate" disabled onclick="sendEmail()">
                    Confirmar Data Escolhida
                </button>
                <p class="obs">Escolha um dia que seja bom para voc√™. Iremos nos encontrar com respeito e ora√ß√£o.</p>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Feito com <span class="heart-beat">‚ù§</span> por algu√©m que te ama mais do que as palavras podem dizer</p>
            <p class="obs">"‚Å¥ O amor √© sofredor, √© benigno; o amor n√£o √© invejoso; o amor n√£o trata com leviandade, n√£o se ensoberbece.
            N√£o se porta com indec√™ncia, n√£o busca os seus interesses, n√£o se irrita, n√£o suspeita mal;
            N√£o folga com a injusti√ßa, mas folga com a verdade;
            Tudo sofre, tudo cr√™, tudo espera, tudo suporta </p>
            <center>1 Cor√≠ntios 13:4-7</center>
        </div>
    </div>

    <!-- Fullscreen para imagens -->
    <div class="fullscreen-overlay" id="fullscreenOverlay" onclick="closeFullscreen()">
        <img class="fullscreen-image" id="fullscreenImage" src="" alt="">
    </div>
    <script>
        // Configura√ß√µes
        const CORRECT_PASSWORD = "vit√≥ria";
        const EMAIL_TO = "phillipelimapravatti@gmail.com";
        let selectedDate = null;
        
        // Elementos principais
        const passwordScreen = document.getElementById('passwordScreen');
        const mainContent = document.getElementById('mainContent');
        const flowersContainer = document.getElementById('flowersContainer');
        const passwordInput = document.getElementById('passwordInput');
        const confirmBtn = document.getElementById('confirmDate');
        
        // Fun√ß√£o para formatar data corretamente (corrige o problema de -1 dia)
        function formatDateCorrectly(dateString) {
            // Dividir a string da data
            const [year, month, day] = dateString.split('-').map(Number);
            
            // Criar data com partes individuais (evita problemas de fuso hor√°rio)
            const date = new Date(year, month - 1, day); // M√™s √© 0-indexed
            
            // Formatar para exibi√ß√£o
            return date.toLocaleDateString('pt-BR', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
        
        // Criar flores caindo
        function createFlowers() {
            const flowers = ['üå∏', 'üå∫', 'üå∑', 'üåπ', 'üíê', 'ü•Ä', 'üåª', 'üåº'];
            const numFlowers = 30;
            
            for (let i = 0; i < numFlowers; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.className = 'flower';
                    flower.innerHTML = flowers[Math.floor(Math.random() * flowers.length)];
                    
                    // Posi√ß√£o aleat√≥ria
                    flower.style.left = Math.random() * 100 + 'vw';
                    flower.style.fontSize = (Math.random() * 30 + 20) + 'px';
                    
                    // Tempo de anima√ß√£o aleat√≥rio
                    const duration = Math.random() * 10 + 10;
                    flower.style.animationDuration = duration + 's';
                    
                    flowersContainer.appendChild(flower);
                    
                    // Remover ap√≥s anima√ß√£o
                    setTimeout(() => {
                        flower.remove();
                    }, duration * 1000);
                }, i * 300);
            }
            
            // Criar novas flores continuamente
            setInterval(() => {
                createFlower();
            }, 500);
        }
        
        function createFlower() {
            const flowers = ['üå∏', 'üå∫', 'üå∑', 'üåπ', 'üíê', 'üåª'];
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.innerHTML = flowers[Math.floor(Math.random() * flowers.length)];
            
            flower.style.left = Math.random() * 100 + 'vw';
            flower.style.fontSize = (Math.random() * 30 + 20) + 'px';
            
            const duration = Math.random() * 10 + 10;
            flower.style.animationDuration = duration + 's';
            
            flowersContainer.appendChild(flower);
            
            setTimeout(() => {
                flower.remove();
            }, duration * 1000);
        }
        
        // Verificar senha
        function checkPassword() {
            const input = passwordInput.value.trim().toLowerCase();
            
            if (input === CORRECT_PASSWORD) {
                // Efeito de transi√ß√£o
                passwordScreen.style.opacity = '0';
                passwordScreen.style.transition = 'opacity 1.5s';
                
                setTimeout(() => {
                    passwordScreen.style.display = 'none';
                    mainContent.style.display = 'block';
                    
                    // Anima√ß√£o de entrada
                    setTimeout(() => {
                        mainContent.style.opacity = '1';
                        startCarousels();
                        startMusic();
                    }, 100);
                }, 1500);
            } else {
                // Efeito de erro
                passwordInput.style.borderColor = 'var(--accent)';
                passwordInput.style.animation = 'shake 0.5s';
                passwordInput.value = '';
                
                setTimeout(() => {
                    passwordInput.style.borderColor = 'var(--secondary)';
                    passwordInput.style.animation = '';
                    passwordInput.focus();
                }, 500);
                
                alert('Esqueceu de por acento...');
            }
        }
        
        // Permitir Enter na senha
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
        
        // Iniciar flores
        createFlowers();
        
        // Carrossel de fotos
        let currentPhotoIndex = 0;
        const photoSlides = document.querySelectorAll('.carousel-slide');
        const photoDotsContainer = document.getElementById('photoDots');
        
        // Criar dots para as fotos
        photoSlides.forEach((_, index) => {
            const dot = document.createElement('div');
            dot.className = 'carousel-dot' + (index === 0 ? ' active' : '');
            dot.onclick = () => goToPhoto(index);
            photoDotsContainer.appendChild(dot);
        });
        
        const photoDots = document.querySelectorAll('.carousel-dot');
        
        function updatePhotoCarousel() {
            photoSlides.forEach((slide, index) => {
                slide.classList.toggle('active', index === currentPhotoIndex);
            });
            
            photoDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentPhotoIndex);
            });
        }
        
        function nextPhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % photoSlides.length;
            updatePhotoCarousel();
        }
        
        function prevPhoto() {
            currentPhotoIndex = (currentPhotoIndex - 1 + photoSlides.length) % photoSlides.length;
            updatePhotoCarousel();
        }
        
        function goToPhoto(index) {
            currentPhotoIndex = index;
            updatePhotoCarousel();
        }
        
        // Carrossel de poemas
        let currentPoemIndex = 0;
        const poemSlides = document.querySelectorAll('.poem-slide');
        const poemIndicator = document.getElementById('poemIndicator');
        
        function updatePoemCarousel() {
            poemSlides.forEach((slide, index) => {
                slide.classList.toggle('active', index === currentPoemIndex);
            });
            
            poemIndicator.textContent = `Poema ${currentPoemIndex + 1} de ${poemSlides.length}`;
        }
        
        function nextPoem() {
            currentPoemIndex = (currentPoemIndex + 1) % poemSlides.length;
            updatePoemCarousel();
        }
        
        function prevPoem() {
            currentPoemIndex = (currentPoemIndex - 1 + poemSlides.length) % poemSlides.length;
            updatePoemCarousel();
        }
        
        // M√∫sica
        function startMusic() {
            const audio = document.getElementById('backgroundMusic');
            audio.volume = 0.3;
            
            // Tentar tocar
            setTimeout(() => {
                audio.play().catch(e => {
                    console.log("Autoplay bloqueado");
                    // Adicionar listener para primeiro clique
                    document.addEventListener('click', function playOnce() {
                        audio.play();
                        document.removeEventListener('click', playOnce);
                    });
                });
            }, 1000);
        }
        
        // Calend√°rio - FUNCIONANDO
        function createCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            // Dias da semana
            const daysOfWeek = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
            daysOfWeek.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.style.fontWeight = 'bold';
                dayElement.textContent = day;
                calendar.appendChild(dayElement);
            });
            
            // Data atual
            const today = new Date();
            
            // Primeiro dia do m√™s atual
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            const firstDayIndex = firstDay.getDay(); // 0 = Domingo, 1 = Segunda, etc.
            
            // √öltimo dia do m√™s atual
            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            const daysInMonth = lastDay.getDate();
            
            // Adicionar dias vazios no in√≠cio do calend√°rio
            for (let i = 0; i < firstDayIndex; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                emptyDay.style.visibility = 'hidden';
                calendar.appendChild(emptyDay);
            }
            
            // Adicionar dias do m√™s atual
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                // Criar data completa CORRETAMENTE (sem problemas de fuso hor√°rio)
                const currentDate = new Date(today.getFullYear(), today.getMonth(), day);
                const year = currentDate.getFullYear();
                const month = String(currentDate.getMonth() + 1).padStart(2, '0');
                const dayNum = String(day).padStart(2, '0');
                const dateString = `${year}-${month}-${dayNum}`;
                dayElement.dataset.date = dateString;
                
                // Formatar data para tooltip usando a fun√ß√£o corrigida
                const formattedDate = formatDateCorrectly(dateString);
                dayElement.title = formattedDate;
                
                // Verificar se √© uma data passada
                if (currentDate < today) {
                    dayElement.style.opacity = '0.5';
                    dayElement.style.cursor = 'not-allowed';
                    dayElement.title = 'Data j√° passada - ' + formattedDate;
                } else {
                    // Permitir clique apenas em datas futuras
                    dayElement.onclick = () => selectDate(dayElement);
                }
                
                calendar.appendChild(dayElement);
            }
        }
        
        function showCalendar() {
            // Criar calend√°rio
            createCalendar();
            
            // Mostrar se√ß√£o do calend√°rio
            const calendarSection = document.getElementById('calendarSection');
            calendarSection.style.display = 'block';
            
            // Rolar suavemente at√© o calend√°rio
            calendarSection.scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }
        
        // Fun√ß√£o para enviar email - CORRIGIDA
        function sendEmail() {
            if (!selectedDate) return;
            
            // Feedback visual - mostrar que est√° enviando
            const originalText = confirmBtn.innerHTML;
            confirmBtn.disabled = true;
            confirmBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            
            // Usar a fun√ß√£o corrigida para formatar a data
            const formattedDate = formatDateCorrectly(selectedDate);
            
            // Remover formul√°rio anterior se existir
            const existingForm = document.getElementById('emailForm');
            if (existingForm) {
                existingForm.remove();
            }
            
            // Criar novo formul√°rio para FormSubmit
            const form = document.createElement('form');
            form.id = 'emailForm';
            form.style.display = 'none';
            form.method = 'POST';
            form.action = 'https://formsubmit.co/ajax/phillipelimapravatti@gmail.com';
            
            // Adicionar campos ao formul√°rio
            const subjectField = document.createElement('input');
            subjectField.type = 'hidden';
            subjectField.name = '_subject';
            subjectField.value = `üìÖ Isa marcou uma data: ${formattedDate}`;
            
            const messageField = document.createElement('input');
            messageField.type = 'hidden';
            messageField.name = 'message';
            messageField.value = `A Isa marcou para o dia: ${formattedDate}\n\nEla est√° esperando que voc√™ entre em contato para combinar os detalhes do encontro em Aparecida.`;
            
            const captchaField = document.createElement('input');
            captchaField.type = 'hidden';
            captchaField.name = '_captcha';
            captchaField.value = 'false';
            
            // N√£o redirecionar - ficar na mesma p√°gina
            const nextField = document.createElement('input');
            nextField.type = 'hidden';
            nextField.name = '_next';
            nextField.value = window.location.href + '#';
            
            // Email de resposta
            const replyToField = document.createElement('input');
            replyToField.type = 'hidden';
            replyToField.name = '_replyto';
            replyToField.value = EMAIL_TO;
            
            form.appendChild(subjectField);
            form.appendChild(messageField);
            form.appendChild(captchaField);
            form.appendChild(nextField);
            form.appendChild(replyToField);
            
            document.body.appendChild(form);
            
            // Timeout para a requisi√ß√£o (10 segundos)
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 10000);
            
            // Enviar o formul√°rio
            fetch(form.action, {
                method: 'POST',
                body: new FormData(form),
                signal: controller.signal
            })
            .then(response => {
                clearTimeout(timeoutId);
                if (!response.ok) {
                    throw new Error('Falha na resposta do servidor');
                }
                return response.json();
            })
            .then(data => {
                console.log('Email enviado com sucesso:', data);
                
                // Remover o formul√°rio
                form.remove();
                
                // Restaurar bot√£o
                confirmBtn.disabled = false;
                confirmBtn.innerHTML = originalText;
                
                // Mensagem de confirma√ß√£o
                alert(`‚úÖ Data ${formattedDate} enviada com sucesso! Entrarei em contato em breve para combinarmos o hor√°rio na Aparecida!`);
                
                // Resetar sele√ß√£o
                resetCalendar();
            })
            .catch(error => {
                clearTimeout(timeoutId);
                console.error('Erro ao enviar email:', error);
                
                // Remover formul√°rio
                form.remove();
                
                // Restaurar bot√£o
                confirmBtn.disabled = false;
                confirmBtn.innerHTML = originalText;
                
                // Fallback: usar mailto link diretamente
                const subject = `üìÖ Isa marcou uma data: ${formattedDate}`;
                const body = `A Isa marcou para o dia: ${formattedDate}\n\nEla est√° esperando que voc√™ entre em contato para combinar os detalhes do encontro em Aparecida.`;
                
                // Abrir cliente de email padr√£o
                const mailtoLink = `mailto:${EMAIL_TO}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                // M√©todo mais confi√°vel para abrir mailto (criar link e clicar)
                const a = document.createElement('a');
                a.href = mailtoLink;
                a.target = '_blank';
                a.style.display = 'none';
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                }, 100);
                
                // Mensagem de confirma√ß√£o
                alert(`üìß Data ${formattedDate} selecionada! Se o email n√£o abriu automaticamente, por favor envie um email para: phillipelimaptavatti@gmail.com\n\nAssunto: Data marcada por Isa\n\nCorpo: Data escolhida: ${formattedDate}`);
                resetCalendar();
            });
        }
        
        function resetCalendar() {
            // Esconder calend√°rio
            document.getElementById('calendarSection').style.display = 'none';
            
            // Resetar sele√ß√£o
            selectedDate = null;
            document.querySelectorAll('.calendar-day.selected').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Desabilitar bot√£o
            confirmBtn.disabled = true;
            confirmBtn.innerHTML = 'Confirmar Data Escolhida';
        }
        
        // Iniciar carrosseis
        function startCarousels() {
            // Carrossel autom√°tico de fotos (5 segundos)
            setInterval(nextPhoto, 5000);
            
            // Carrossel autom√°tico de poemas (2 minutos = 120000 ms)
            setInterval(nextPoem, 120000);
            
            // Adicionar clique nas fotos para fullscreen
            photoSlides.forEach(slide => {
                slide.onclick = () => openFullscreen(slide.src);
            });
        }
        
        // Fullscreen para imagens
        function openFullscreen(src) {
            const overlay = document.getElementById('fullscreenOverlay');
            const image = document.getElementById('fullscreenImage');
            
            image.src = src;
            overlay.style.display = 'flex';
        }
        
        function closeFullscreen() {
            const overlay = document.getElementById('fullscreenOverlay');
            overlay.style.display = 'none';
        }
        
        function selectDate(element) {
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.calendar-day.selected').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Selecionar nova data
            element.classList.add('selected');
            selectedDate = element.dataset.date;
            
            // Habilitar bot√£o de confirma√ß√£o
            confirmBtn.disabled = false;
            
            // Formatar data para exibi√ß√£o usando a fun√ß√£o corrigida
            const formattedDate = formatDateCorrectly(selectedDate);
            
            confirmBtn.innerHTML = `<i class="fas fa-calendar-check"></i> Confirmar: ${formattedDate}`;
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            // Foco no input de senha
            passwordInput.focus();
            
            // Adicionar efeito de shake
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                    20%, 40%, 60%, 80% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
    
</body>
</html>
